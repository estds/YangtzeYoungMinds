<div class="toc-card sticky-top card float-right m-2 mb-3 small d-none">
  <div class="toc-header card-header p-0"><a data-toggle="collapse" href=".toc-collapse" role="button" aria-expanded="false" aria-controls=".toc-collapse" class="toc-header-text p-3 text-reset text-truncate d-block"><i class="fas fa-th-list"></i><b><span class="collapse show toc-collapse ml-2">Contents</span></b></a></div>
  <div id="toc-list" class="list-group list-group-flusd toc-entries collapse show toc-collapse">
  </div>
</div>
<script>
  $(document).ready(function() {

    var h2_count = $(".content-with-toc h2[id]").length;

    if (h2_count > 2) {

      $(".toc-card").removeClass('d-none');

      $('.content-with-toc').find('h2[id]').each(function() {
        $('#toc-list').append('<a href="#' + $(this).attr('id') + '" class="list-group-item list-group-item-action text-truncate sjump">' + $(this).text() + '</a>');
      });
    }
    
    var win_width = $(window).width();
    
    if (win_width < 576) {
    	$('.toc-collapse').collapse('hide');
    }

    $('body').scrollspy({
      target: '#toc-list'
    })

  });
</script>
